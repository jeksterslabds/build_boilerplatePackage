03\_build.R
================
jek
2020-04-22

  - [Build Package.](#build-package.)
      - [minimal = TRUE](#minimal-true)
      - [minimal = FALSE](#minimal-false)

``` r
library(jeksterslabRpkg)
tmp <- getwd()
pkg_name <- "boilerplatePackage"
pkg_root <- file.path(
  tmp,
  pkg_name
)
```

## Build Package.

Builds the `R` package on `pkg_root` by:

  - styling the `R` scripts and `R` Markdown files,
  - building package data by running `R` scripts stored in `data_raw`,
  - rendering the `R` scripts and `R` Markdown files using
    `rmarkdown::render()`, and
  - building `pkgdown` site.

### minimal = TRUE

``` r
pkg_build(
  pkg_root = pkg_root,
  minimal = TRUE,
  par = TRUE
)
```

    ## Building boilerplatePackage
    ## Path: /media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage

### minimal = FALSE

``` r
pkg_build(
  pkg_root = pkg_root,
  minimal = FALSE,
  style = TRUE,
  data = TRUE,
  render = TRUE,
  readme = TRUE,
  vignettes = TRUE,
  tests = TRUE,
  pkgdown = TRUE,
  par = TRUE,
  git = TRUE,
  github = TRUE
)
```

    ## Building boilerplatePackage
    ## Path: /media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage

    ## Styling...

    ## Updating boilerplatePackage documentation

    ## First time using roxygen2. Upgrading automatically...

    ## Updating roxygen version in /media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/DESCRIPTION

    ## Loading boilerplatePackage

    ## Warning: The existing 'NAMESPACE' file was not generated by roxygen2, and will
    ## not be overwritten.

    ## Warning: The existing 'galton.Rd' file was not generated by roxygen2, and will
    ## not be overwritten.

    ## Warning: The existing 'z.Rd' file was not generated by roxygen2, and will not be
    ## overwritten.

    ## Loading boilerplatePackage

    ## Generating data...

    ## ✔ Setting active project to '/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage'

    ## ✔ Saving 'galton' to 'data/galton.rda'

    ## ● Document your data (see 'https://r-pkgs.org/data.html')

    ## Rendering...

    ## 
    ## 
    ## processing file: README.Rmd

    ##   |                                                                              |                                                                      |   0%  |                                                                              |.......................                                               |  33%
    ##    inline R code fragments
    ## 
    ##   |                                                                              |...............................................                       |  67%
    ## label: unnamed-chunk-1 (with options) 
    ## List of 1
    ##  $ include: logi FALSE
    ## 
    ##   |                                                                              |......................................................................| 100%
    ##   ordinary text without R code

    ## output file: README.knit.md

    ## /usr/bin/pandoc +RTS -K512m -RTS README.utf8.md --to gfm --from markdown+autolink_bare_uris+tex_math_single_backslash --output README.md --standalone --template /home/jek/R/x86_64-pc-linux-gnu-library/3.6/rmarkdown/rmarkdown/templates/github_document/resources/default.md 
    ## /usr/bin/pandoc +RTS -K512m -RTS README.md --to html4 --from gfm --output README.html --standalone --self-contained --highlight-style pygments --template /home/jek/R/x86_64-pc-linux-gnu-library/3.6/rmarkdown/rmarkdown/templates/github_document/resources/preview.html --variable 'github-markdown-css:/home/jek/R/x86_64-pc-linux-gnu-library/3.6/rmarkdown/rmarkdown/templates/github_document/resources/github.css' --email-obfuscation none --metadata pagetitle=PREVIEW

    ## 
    ## Preview created: README.html

    ## 
    ## Output created: README.md

    ## 
    ## 
    ## processing file: test_z.spin.Rmd

    ## Warning in value[[3L]](cond): Error rendering /media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/tests/testthat/test_z.R

    ## Updating boilerplatePackage documentation

    ## First time using roxygen2. Upgrading automatically...

    ## Loading boilerplatePackage

    ## Warning: The existing 'NAMESPACE' file was not generated by roxygen2, and will
    ## not be overwritten.

    ## Warning: The existing 'galton.Rd' file was not generated by roxygen2, and will
    ## not be overwritten.

    ## Warning: The existing 'z.Rd' file was not generated by roxygen2, and will not be
    ## overwritten.

    ## ── Building ────────────────────────────────────────────── boilerplatePackage ──
    ## Setting env vars:
    ## ● CFLAGS    : -Wall -pedantic
    ## ● CXXFLAGS  : -Wall -pedantic
    ## ● CXX11FLAGS: -Wall -pedantic
    ## ────────────────────────────────────────────────────────────────────────────────
    ##      checking for file ‘/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/DESCRIPTION’ ...  ✔  checking for file ‘/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/DESCRIPTION’
    ##   ─  preparing ‘boilerplatePackage’:
    ##    checking DESCRIPTION meta-information ...  ✔  checking DESCRIPTION meta-information
    ##   ─  installing the package to build vignettes
    ##      creating vignettes ...  ✔  creating vignettes (1.3s)
    ##   ─  checking for LF line-endings in source and make files and shell scripts
    ##   ─  checking for empty or unneeded directories
    ## ─  looking to see if a ‘data/datalist’ file should be added
    ## ─  building ‘boilerplatePackage_0.9.0.tar.gz’
    ##      
    ## ── Checking ────────────────────────────────────────────── boilerplatePackage ──
    ## Setting env vars:
    ## ● _R_CHECK_CRAN_INCOMING_USE_ASPELL_: TRUE
    ## ● _R_CHECK_CRAN_INCOMING_REMOTE_    : FALSE
    ## ● _R_CHECK_CRAN_INCOMING_           : FALSE
    ## ● _R_CHECK_FORCE_SUGGESTS_          : FALSE
    ## ● NOT_CRAN                          : true
    ## ── R CMD check ─────────────────────────────────────────────────────────────────
    ##   ─  using log directory ‘/tmp/RtmpBdYbEq/boilerplatePackage.Rcheck’
    ## ─  using R version 3.6.3 (2020-02-29)
    ##   ─  using platform: x86_64-pc-linux-gnu (64-bit)
    ## ─  using session charset: UTF-8
    ##   ─  using options ‘--no-manual --as-cran’
    ##   ✔  checking for file ‘boilerplatePackage/DESCRIPTION’
    ## ─  this is package ‘boilerplatePackage’ version ‘0.9.0’
    ## ─  package encoding: UTF-8
    ##    checking package namespace information ...  ✔  checking package namespace information
    ##    checking package dependencies ...  ✔  checking package dependencies (1.1s)
    ##    checking if this is a source package ...  ✔  checking if this is a source package
    ## ✔  checking if there is a namespace
    ##      checking for executable files ...  ✔  checking for executable files
    ##   ✔  checking for hidden files and directories
    ## ✔  checking for portable file names
    ##    checking for sufficient/correct file permissions ...  ✔  checking for sufficient/correct file permissions
    ##    checking whether package ‘boilerplatePackage’ can be installed ...  ✔  checking whether package ‘boilerplatePackage’ can be installed (813ms)
    ##      checking installed package size ...  ✔  checking installed package size
    ##   ✔  checking package directory
    ##      checking for future file timestamps ...  ✔  checking for future file timestamps (1.3s)
    ##   ✔  checking ‘build’ directory
    ##    checking DESCRIPTION meta-information ...  ✔  checking DESCRIPTION meta-information
    ##   ✔  checking top-level files
    ## ✔  checking for left-over files
    ##    checking index information ...  ✔  checking index information
    ##      checking package subdirectories ...  ✔  checking package subdirectories
    ##      checking R files for non-ASCII characters ...  ✔  checking R files for non-ASCII characters
    ##      checking R files for syntax errors ...  ✔  checking R files for syntax errors
    ##      checking whether the package can be loaded ...  ✔  checking whether the package can be loaded
    ##      checking whether the package can be loaded with stated dependencies ...  ✔  checking whether the package can be loaded with stated dependencies
    ##      checking whether the package can be unloaded cleanly ...  ✔  checking whether the package can be unloaded cleanly
    ##      checking whether the namespace can be loaded with stated dependencies ...  ✔  checking whether the namespace can be loaded with stated dependencies
    ##      checking whether the namespace can be unloaded cleanly ...  ✔  checking whether the namespace can be unloaded cleanly
    ##      checking loading without being on the library search path ...  ✔  checking loading without being on the library search path
    ##      checking dependencies in R code ...  ✔  checking dependencies in R code
    ##    checking S3 generic/method consistency     checking S3 generic/method consistency ...  ✔  checking S3 generic/method consistency (565ms)
    ##      checking replacement functions ...  ✔  checking replacement functions
    ##      checking foreign function calls ...  ✔  checking foreign function calls
    ##      checking R code for possible problems ...  ✔  checking R code for possible problems (1.6s)
    ##      checking Rd files ...  ✔  checking Rd files
    ##      checking Rd metadata ...  ✔  checking Rd metadata
    ##    checking Rd line widths ...  ✔  checking Rd line widths
    ##      checking Rd cross-references ...  ✔  checking Rd cross-references
    ##      checking for missing documentation entries ...  ✔  checking for missing documentation entries
    ##      checking for code/documentation mismatches ...  ✔  checking for code/documentation mismatches (342ms)
    ##      checking Rd \usage sections ...  ✔  checking Rd \usage sections (691ms)
    ##      checking Rd contents ...  ✔  checking Rd contents
    ##      checking for unstated dependencies in examples ...  ✔  checking for unstated dependencies in examples
    ##      checking contents of ‘data’ directory ...  ✔  checking contents of ‘data’ directory
    ##      checking data for non-ASCII characters ...  ✔  checking data for non-ASCII characters
    ##      checking data for ASCII and uncompressed saves ...  ✔  checking data for ASCII and uncompressed saves
    ##      checking installed files from ‘inst/doc’ ...  ✔  checking installed files from ‘inst/doc’
    ##      checking files in ‘vignettes’ ...  ✔  checking files in ‘vignettes’
    ##      checking examples ...  ✔  checking examples (480ms)
    ##      checking for unstated dependencies in ‘tests’ ...  ✔  checking for unstated dependencies in ‘tests’
    ##      checking tests ...  ─  checking tests
    ##      Running ‘testthat.R’    ✔  Running ‘testthat.R’ (1.3s)
    ##      checking for unstated dependencies in vignettes ...  ✔  checking for unstated dependencies in vignettes (1.5s)
    ##   ✔  checking package vignettes in ‘inst/doc’
    ##      checking re-building of vignette outputs ...  ✔  checking re-building of vignette outputs (823ms)
    ##   ✔  checking for detritus in the temp directory
    ##    
    ##    
    ##      checking for file ‘/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/DESCRIPTION’ ...  ✔  checking for file ‘/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/DESCRIPTION’
    ##   ─  preparing ‘boilerplatePackage’:
    ##      checking DESCRIPTION meta-information ...  ✔  checking DESCRIPTION meta-information
    ##   ─  checking for LF line-endings in source and make files and shell scripts
    ##   ─  checking for empty or unneeded directories
    ## ─  looking to see if a ‘data/datalist’ file should be added
    ## ─  building ‘boilerplatePackage_0.9.0.tar.gz’
    ##      
    ## Running /usr/lib64/R/bin/R CMD INSTALL \
    ##   /tmp/RtmpBdYbEq/boilerplatePackage_0.9.0.tar.gz --install-tests 
    ## * installing to library ‘/home/jek/R/x86_64-pc-linux-gnu-library/3.6’
    ## * installing *source* package ‘boilerplatePackage’ ...
    ## ** using staged installation
    ## ** R
    ## ** data
    ## *** moving datasets to lazyload DB
    ## ** tests
    ## ** byte-compile and prepare package for lazy loading
    ## ** help
    ## *** installing help indices
    ## ** building package indices
    ## ** installing vignettes
    ## ** testing if installed package can be loaded from temporary location
    ## ** testing if installed package can be loaded from final location
    ## ** testing if installed package keeps a record of temporary installation path
    ## * DONE (boilerplatePackage)
    ## ── Installing package into temporary library ───────────────────────────────────
    ## ══ Building pkgdown site ═══════════════════════════════════════════════════════
    ## Reading from: '/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage'
    ## Writing to:   '/media/jeksterslab/scripts/r/build_boilerplatePackage/boilerplatePackage/docs'
    ## ── Initialising site ───────────────────────────────────────────────────────────
    ## Writing 'sitemap.xml'
    ## ── Building home ───────────────────────────────────────────────────────────────
    ## Reading 'LICENSE.md'
    ## ── Building function reference ─────────────────────────────────────────────────
    ## Reading 'man/galton.Rd'
    ## Reading 'man/z.Rd'
    ## ── Building articles ───────────────────────────────────────────────────────────
    ## Reading 'vignettes/boilerplatePackage.Rmd'
    ## Reading 'vignettes/z.Rmd'
    ## ── Building news ───────────────────────────────────────────────────────────────
    ## ══ DONE ════════════════════════════════════════════════════════════════════════

    ## Build process for boilerplatePackage complete.

    ## Setting up `git` repository.

    ## Creating and pushing to a remote GiHub repository.
